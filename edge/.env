# EDGE HOST ENVIRONMENT VARIABLES
# This file is committed to git (safe - contains only op:// references, not actual passwords)
# Deploy: op run --env-file=.env -- docker compose up -d

# ============================================================================
# 1PASSWORD STRUCTURE
# ============================================================================
# Vault: "Server"
# Items you need to create in 1Password:
#   - cloudflare (fields: email, api_token)
#   - redis (fields: password)
#   - authentik-db (fields: password)
#   - authentik (fields: secret_key)
#   - netbird (fields: token)
#   - beszel (fields: key, token)

# ============================================================================
# TRAEFIK - Cloudflare DNS (for Let's Encrypt)
# ============================================================================
CF_API_EMAIL=op://Server/cloudflare/email
CF_DNS_API_TOKEN=op://Server/cloudflare/api_token

# ============================================================================
# AUTHENTIK - SSO & Identity Provider
# ============================================================================
# Redis connection (shared from db host - 10.10.10.111)
REDIS_PASSWORD=op://Server/redis/password

# PostgreSQL connection (shared from db host - 10.10.10.111)
# Database 'authentik' must be created first on db host
AUTHENTIK_DB_USER=authentik
AUTHENTIK_DB_PASSWORD=op://Server/authentik-db/password

# Authentik secret key (must be same across server + worker)
# Generate with: openssl rand -base64 50
AUTHENTIK_SECRET_KEY=op://Server/authentik/secret_key
NETBIRD_TOKEN=op://Server/netbird/token

# ============================================================================
# BESZEL - Server Monitoring Agent
# ============================================================================
BESZEL_KEY=op://Server/beszel/key
BESZEL_TOKEN=op://Server/beszel/token
